!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);var o=angular.module("MainApp",["ng-fusioncharts"]);o.filter("range",function(){return function(t,e){e=parseInt(e);for(var n=0;n<e;n++)t.push(n);return t}}),o.controller("MainCtrl",["$scope","$http",function(t,e){function n(){t.SocialReturns.forEach(function(t){t.MeasurableOutcomes.forEach(function(e){e.Value=t.measurable_clc.Value})})}function o(e,n,o){t.slect_vl=e,t.selct_icon=n,t.activeCircle=o}function a(e){t.countryItemsList=t.Communities[e].ListofItems,t.CountryName=t.Communities[e].CountryName,t.CommunityName=t.Communities[e].CommunityName,t.CountryIcons=t.Communities[e].CountryIcons,t.selcountry[t.CountryName]=!0}function i(){t.SocialReturns_new=[];$("input:checkbox[name=socialExtra]:checked").each(function(){var e=t.SocialReturns[$(this).val()];e.Shown_by_default=!0,$.each(e.MeasurableOutcomes,function(e,n){t.social_chart_arr.push(n)}),$.each(e.MeasurableOutcomes,function(e,n){t.total+=n.Value*n.Quantified_multiplication_value}),$("#auto_height").animate({height:"+=110"},500)}),t.socialReturnContainer=[],t.ttlsocialinvestment=0;var e=0;$.each(t.SocialReturns,function(n,o){o.Shown_by_default&&(t.impact_fg[n]=t.impact_fg[n]||{},$.each(t.SocialReturns[n].MeasurableOutcomes,function(a,i){var c=m(n,a);if(o.pers=c,t.social_chart_arr[n].pers=c,t.ttlsocialinvestment+=parseInt(c),void 0===t.impact_fg[n]&&(t.impact_fg[n][a]=!1),void 0!==t.social_color[e]&&void 0!==t.social_color[e].color)t.socialReturnContainer.push({label:i.Outcome_Definition,value:c,color:t.social_color[e].color});else{var u=d();t.social_color.push({color:u}),t.socialReturnContainer.push({label:i.Outcome_Definition,value:c,color:u})}e+=1}),setTimeout(function(){$("#investmentContainer svg").attr("height","275"),$("#socialReturnContainer svg").attr("height","275"),InitSocialReturnFusionChart(t.ttlsocialinvestment,t.socialReturnContainer)},1e3),t.socialReturnValue=l())}),$("#investModal").modal("hide")}function c(e){t.output=t.outcomeInfo[e].Project_Output_Section;var n=[];t.obj={},$.each(t.output,function(e,o){t.obj[e]=!1,n.push(o.Outcome),$.each(o.Outcome,function(n,o){o.id=e,t.outcome.push(o)})})}function u(t,e){for(var n=[],o=0;o<t.length;o+=e)n.push(t.slice(o,o+e));return n}function s(e,n){t.desc=e.Description,t.item_roles=e.RoleInvolved,t.tags=e.Tags,$(".box1").css("border","1px solid #07c776"),$(".box1").removeClass("boxselect"),$("#item_"+n).addClass("boxselect")}function r(e){e&&(t.project=e.Project_Name,t.Project_Primary_key=e.Project_Primary_key,t.Project_Icon=e.Project_Icon,t.Project_Insight=e.Project_Insight,t.Proj_ID=e.Proj_ID,$.each(t.obj1,function(e,n){t.obj1[e]=!1}),t.obj1[e.Project_Primary_key]=!0,t.goalItems=e.goalItems)}function l(){var e=0;return t.SocialReturns.forEach(function(t,n){t.Shown_by_default&&t.MeasurableOutcomes.forEach(function(n){e+=n.Value*t.Value*t.measurable_clc.mul})}),e}function m(e,n){return t.SocialReturns[e].MeasurableOutcomes[n].Value*t.SocialReturns[e].Value*t.SocialReturns[e].measurable_clc.mul}function _(e,n){i(),t.socialReturnValue=l()}function p(){t.intotal=0,$.each(t.Investments,function(e,n){""!==n.Value&&(t.intotal+=parseInt(n.Value))})}function f(){var e=$("#text1").val(),n=$("#value1").val();if(""!=e&&""!=n){t.ttlinvestment+=parseInt(n),t.ttlinvestment+=parseInt(n);var o=d();t.invest_color.push({color:o}),t.Investments.push({Label:e,Value:n,color:o}),p(),$("#text1").val(""),$("#value1").val("")}initInvestmentFusionChart(t.intotal,t.Investments),$("#investmentModal").modal("hide"),setTimeout(function(){$("#investmentContainer svg").attr("height","275"),$("#socialReturnContainer svg").attr("height","275")},300)}function d(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}t.mapclickfun=a,t.output=[],t.social_chart_arr=[],t.selcountry={},t.search_org=function(e){var n=u(t.list_org,3);t.orgSlider=[];var o=[];""!=e?($.each(n,function(t,n){$.each(n,function(t,n){-1!=n.Title.indexOf(e)&&o.push(n)})}),t.orgSlider.push(o)):t.orgSlider=n},t.search_milestone=function(e){var n=t.milestone1;t.milestone=[];""!=e?$.each(n,function(n,o){-1!=o.MainTitle.indexOf(e)&&t.milestone.push(o)}):t.milestone=n},t.changeCountry=function(e){var n=t.Communities.find(t=>t.CountryName===e);n&&(t.community=n,t.selectedYear=n.years[0],t.selectedDataset=t.selectedYear.dataset[0],t.CountryName=n.CountryName,t.CommunityName=n.CommunityName,t.CountryIcons=n.CountryIcons,t.updateSocialReturnSection())},t.dopopover=o,t.outcome=[],t.obj1={},t.obj2={},t.outcomehighlight=function(e,n){$.each(t.obj1,function(e,n){t.obj1[e]=!1}),t.obj1[n]=!0,$.each(t.obj2,function(e,n){t.obj2[e]=!1}),t.obj2[e]=!0},t.showformaula=function(e,n){$.each(t.impact_fg[e],function(n,o){t.impact_fg[e][n]=!1}),t.impact_fg[e][n]=!0},t.Funding_rasing_GraphPlotting1=[],t.Investments=[],t.SocialReturns=[],t.impact_fg={},t.MeasurableOutcomes1=[],t.investmentChart=[],t.socialReturnContainer=[],t.countrylist=[],t.countrylist_new=[],t.CountryName=[],t.countryItemsList=[],t.ttlinvestment=0,t.multiplycm=1,t.ttlsocialinvestment=0,e.get("inpact-network-ui-json.json").then(function(e){t.projectData=e.data,t.ProjSec=e.data.ProjectSection,t.overview=e.data.Overview,t.gallery=e.data.Overview.Gallery,t.time_line=e.data.Overview.TimelineInfo,t.TimelineInsight=e.data.Overview.TimelineInsight,t.fundInfo=e.data.Overview.Funding_Information,t.partners=e.data.Overview.Partnership_Organizations,t.partnerInsgt=e.data.Overview.Partnership_Organizations_Insight,t.outcomeInfo=e.data.Overview.Outputs_Outcomes_Info.Listing,t.goalTitle=e.data.Overview.Outputs_Outcomes_Info.GoalTitle,t.outcomeInfoSupportedProjects=t.outcomeInfo.filter(function(t){return t.isSupported}),t.leftpr=t.outcomeInfo.length-t.outcomeInfoSupportedProjects.length,t.comments=e.data.Overview.Insight,t.secpage=e.data.Theory_of_Change,t.th_summary=t.secpage.Summary_Section.Summary,t.th_insight=t.secpage.Summary_Section.Insight,t.blockIns=t.secpage.Summary_Section_Block.Insight,t.inputs=t.secpage.Summary_Section_Block.Input.Points,t.activites=t.secpage.Summary_Section_Block.Activities.Points,t.Intoutputs=t.secpage.Summary_Section_Block.IntendentOutput.Points,t.Intoutcomes=t.secpage.Summary_Section_Block.IntendentOutcomes.Points,t.follow="Follow",t.is_following=!1,t.keyAss=t.secpage.Key_Assumptions,t.solutions=t.secpage.Solutions,t.problms=t.secpage.Problem_Statements,c(0),t.outputs=e.data.Overview.Outputs_Outcomes_Info.Project_Output_Section,t.outputs_tag_={},t.outcomes_tag_={},$.each(t.outputs,function(e,n){t.outputs_tag_[e]={},$.each(n.Tags,function(n,o){t.outputs_tag_[e][n]=!1})}),t.outcomes=e.data.Overview.Outputs_Outcomes_Info.Project_Outcomes_Section,$.each(t.outcomes,function(e,n){t.outcomes_tag_[e]={},$.each(n.Tags,function(n,o){t.outcomes_tag_[e][n]=!1})}),t.intotal=0,r(t.outcomeInfoSupportedProjects[0]),t.milestone=t.projectData.Milestones.Listing,t.milestone_insite=t.projectData.Milestones.Insight,t.updatetotal=_,t.milestone1=t.projectData.Milestones.Listing,t.teams=t.projectData.People_Partnership.TeamMember,t.teams_insight=t.projectData.People_Partnership.TeamMember_Insight,t.list_org=t.projectData.People_Partnership.Listing,t.part_insight=t.projectData.People_Partnership.People_Partnership_Insight,t.orgSlider=u(t.list_org,3),s(t.list_org[0],0),$.each(t.outputs,function(e,n){t.obj2[n.Project_Output_Primary_Key]=!1}),t.fundSec=t.projectData.Fund_and_Risk.Funding_Round_Section,t.fund_ins=t.projectData.Fund_and_Risk.Fund_and_Risk_Insight,t.fundSecAmnt=t.projectData.Fund_and_Risk.Funding_Amount_Section,t.fundSourc=t.projectData.Fund_and_Risk.Source_of_Funding.Listing,t.notesInv=t.projectData.Fund_and_Risk.Notes_for_Investor,t.notes_ins=t.projectData.Fund_and_Risk.Notes_for_Investor_Insight,t.fundgraph=t.projectData.Fund_and_Risk.Funding_rasing_over_the_period_of_time,t.sustain=t.projectData.Fund_and_Risk.Sustainability,t.social_color=[],t.financialxls=t.projectData.Fund_and_Risk.Financial_Management.Listing,t.financialInsght=t.projectData.Fund_and_Risk.Financial_Management.Financial_Insight,t.circle_title=t.projectData.Fund_and_Risk.Financial_Management_Chart.CenterCircle,t.circle_tIcon=t.projectData.Fund_and_Risk.Financial_Management_Chart.CenterCircleIcon,t.circle_tDesc=t.projectData.Fund_and_Risk.Financial_Management_Chart.CenterCirclePopoverText,t.FinancialChartInsight=t.projectData.Fund_and_Risk.Financial_Management_Chart.FinancialChartInsight,t.circle_Listing=t.projectData.Fund_and_Risk.Financial_Management_Chart.Listing,o(t.circle_Listing[0].CirclePopoverText,t.circle_Listing[0].CircleIcon,t.circle_Listing[0].CircleText),t.countryChart=e.data.CommunitiesImpactedPage.Communities[0].ListofItems,t.Investments=e.data.CommunitiesImpactedPage.Investments,$.each(t.Investments,function(e,n){t.intotal=t.intotal+parseInt(n.Value)}),t.community=e.data.CommunitiesImpactedPage.Communities[0],t.selectedYear=t.community.years[0],t.selectedDataset=t.selectedYear.dataset[0],t.CountryName=e.data.CommunitiesImpactedPage.Communities[0].CountryName,t.CommunityName=e.data.CommunitiesImpactedPage.Communities[0].CommunityName,$.each(e.data.CommunitiesImpactedPage.Communities,function(e,n){t.selcountry[n.CountryName]="",t.selcountry[n.CountryName]=!1}),t.invstChart=e.data.CommunitiesImpactedPage.Investments,t.invest_color=[],$.each(t.invstChart,function(e,n){t.ttlinvestment+=parseInt(n.Value);var o=d();t.invest_color.push({color:o}),t.investmentChart.push({label:n.Label,value:n.Value,color:o})}),t.CommunityInsights=e.data.CommunitiesImpactedPage.CommunityInsights,t.Impact_Reports=e.data.CommunitiesImpactedPage.Impact_Reports.Listing,t.Investments=e.data.CommunitiesImpactedPage.Investments,t.Communities=e.data.CommunitiesImpactedPage.Communities,$.each(t.Communities,function(e,n){t.Country_name=t.Communities[e].CountryName,t.Latitude=t.Communities[e].Latitude,t.Longitude=t.Communities[e].Longitude,t.Country_value=t.Communities[e].Countryvalue,t.countrylist.push({id:t.Country_name,value:t.Country_value}),t.countrylist_new.push({latLng:[t.Latitude,t.Longitude],name:t.Country_name})}),a(0),t.SocialReturns=t.selectedDataset.SocialReturns,n(),t.socialReturnValue=0,$.each(t.SocialReturns,function(e,n){n.Shown_by_default&&(t.impact_fg[e]={},$.each(t.SocialReturns[e].MeasurableOutcomes,function(n,o){var a=m(e,n);t.ttlsocialinvestment+=a,o.pers=a,t.valu=o.pers,t.social_chart_arr.push(o),t.socialReturnValue+=a,t.impact_fg[e][n]=!1;var i=d();t.social_color.push({color:i}),t.socialReturnContainer.push({label:o.Outcome_Definition,value:a,color:i})}))}),t.Funding_rasing_GraphPlotting=t.projectData.Fund_and_Risk.Funding_rasing_over_the_period_of_time.GraphPlotting,$.each(t.Funding_rasing_GraphPlotting,function(e,n){t.Funding_rasing_GraphPlotting1.push({label:n.Year,value:n.Amount})})}).then(function(){communitiesImpacted()}),t.following=function(){if(t.follow="Following",t.ProjSec.TotalFollower=t.ProjSec.TotalFollower+"",-1!=t.ProjSec.TotalFollower.indexOf(","))var e=parseInt(t.ProjSec.TotalFollower.replace(",",""));else var e=t.ProjSec.TotalFollower;e=parseInt(e),t.is_following?(e=e-1+"",t.follow="Follow",t.is_following=!1,t.ProjSec.TotalFollower=e.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")):(t.is_following=!0,e=e+1+"",t.ProjSec.TotalFollower=e.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))},t.timeDiffInMinutes=function(e){var n=new Date,o=n.getDate(),a=n.getMonth()+1,i=n.getFullYear();o<10&&(o="0"+o);a<10&&(a="0"+a);n=i+"/"+a+"/"+o,t.today=n;var c=new Date(n),u=new Date(e),s=Math.abs(c.getTime()-u.getTime());return Math.ceil(s/864e5)},t.dateMonth=function(t){const e=new Date(t);return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]},t.selectProject=c,t.showInvest=function(){$("#investModal").modal("show")},t.hight_outcome=function(e){$.each(t.obj,function(e,n){t.obj[e]=!1}),t.obj[e]=!0},t.showDesc=s,t.mileStCmnt=function(e){$(".maile_stone_moal").modal("show"),t.milst_cmnt=e},t.testGal=function(t){$("#image-gallery").modal("show"),$("#image-gallery-image").attr("src",t)},t.selectProj=r,t.impact_fg={},t.getSelReturn=i,t.closeformula=function(e,n){t.impact_fg[e][n]=!1},t.calculateSocialReturnValue=l,t.calculateSocialReturnItemValue=m,t.changeoutcomes=function(e,n){t.socialReturnValue=l(),i()},t.myDataSource={chart:{caption:"Funding Over Time(in millions)",numberprefix:"$",rotatelabels:"0",theme:"fusion"},data:t.Funding_rasing_GraphPlotting1},t.socialReturnValue=l(),t.showtag=function(e,n){$.each(t.outputs_tag_[e],function(n,o){t.outputs_tag_[e][n]=!1}),t.outputs_tag_[e][n]=!0},t.showoutcomestag=function(e,n){$.each(t.outcomes_tag_[e],function(n,o){t.outcomes_tag_[e][n]=!1}),t.outcomes_tag_[e][n]=!0},t.closeouttag=function(e,n){t.outputs_tag_[e][n]=!1},t.mileStTask=function(e){$(".milestone_task").modal("show"),t.milst_task=e},t.mileStAttach=function(e){$(".milestone_attach").modal("show"),t.milst_attach=e},t.updateSocialReturnSection=function(e){t.selectedDataset!==e&&(e&&(t.selectedDataset=e),t.SocialReturns=t.selectedDataset.SocialReturns,t.social_chart_arr=[],n(),t.selcountry[name]||(t.multiplycm=t.community.ListofItemsMultiplevalue),t.countryItemsList=t.community.ListofItems,$.each(t.SocialReturns,function(e,n){n.Shown_by_default&&$.each(n.MeasurableOutcomes,function(n,o){var a=m(e,n);o.pers=a,t.social_chart_arr.push(o),t.socialReturnValue+=a;var i=d();t.social_color.push({color:i}),t.socialReturnContainer.push({label:o.Outcome_Definition,value:a,color:i})})}),i())},t.onYearChange=function(e){e&&(t.selectedYear=e,t.updateSocialReturnSection(t.selectedYear.dataset[0]))},t.invests=function(e,n){t.Investments[n].Value=e,$.each(t.Investments,function(t,o){t==n&&""==e&&(e=parseInt(0))}),p(),$.each(t.Investments,function(e,n){t.Investments[e].color=t.invest_color[e].color}),f()},t.intotals=t.intotals,t.showInvestmentModal=function(){$("#investmentModal").modal("show")},t.getinputvalue=f}])},function(t,e){}]);